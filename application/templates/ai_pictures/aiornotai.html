{% extends "base.html" %}
{% load i18n %}
{% block content %}
  <div class="container">
    <div class="section-title">
      <h1 class="content-list__see-more">{% trans "AI or not AI game" %}</h1>
      <div>
        <p>
          {% trans "After clicking on the start button, you will have 20 seconds during which 20 images will scroll. For each image, you will need to determine whether it is real or generated by artificial intelligence. Please note that you will only have 1 second per image. At the end of the 20 seconds, you will receive your score out of 20 points. On your marks, get set, go!" %}
        </p>
        <p>
          {% blocktrans with total_quiz=statistics.total_quiz avg_score=statistics.avg_score %}
          ðŸ“ˆ Total number of quiz: <b>{{ total_quiz }}</b> / Average score: <b>{{ avg_score }}/20</b>
          {% endblocktrans %}
        </p>
      </div>
    </div>
    <br>
    {% csrf_token %}
    <div id="main-game"
         data-url="{% url 'ai_pictures:aiornotai-add' %}"
         style="text-align:center;
                width:450px;
                max-width:100%;
                margin: 0 auto;
                overflow: hidden">
      <div id="intro">
        <button class="btn btn-success"
                id="start-button"
                style="position: absolute;
                       top: 50%;
                       left: 50%;
                       transform: translate(-50%, -50%);
                       background: rgb(0 0 0 / 58%);
                       border: 4px solid #fff;
                       color: #fff;
                       font-size: 1.4rem;
                       padding: 10px 20px;
                       cursor: pointer">{% trans "Start" %}</button>
        <br>
        <img src="/assets/img/aiornotai.webp"
             style="width:100%"
             alt="game aiornotai background">
      </div>
      <div class="progress" id="progress" style="display:none;">
        <div class="progress-bar progress-bar-striped bg-success"
             role="progressbar"
             style="width: 25%"
             aria-valuenow="25"
             aria-valuemin="0"
             aria-valuemax="100"></div>
      </div>
      <div class="frame" id="frame" style="display:none;"></div>
      <div class="icons" id="play-buttons" style="display:none;">
        <button type="button" id="fake" class="btn btn-danger btnia">{% trans "FAKE" %}</button>
        <button type="button" id="real" class="btn btn-success btnia">{% trans "REAL" %}</button>
      </div>
      <div id="result" style="display: none; padding: 20px;" class="listing">
        <h3>
          {% trans "Your score:" %} <b><span id="score"></span>/20</b>
        </h3>
        <br>
        <span class="perfect" style="display: none;">{% trans "Congratulations, you made no mistakes!" %}</span>
        <span class="good" style="display: none;">{% trans "It's not perfect, but we're getting closer!" %}</span>
        <span class="average" style="display: none;">{% trans "You got a passing grade! That's not bad!" %}</span>
        <span class="bad" style="display: none;">{% trans "You can't tell the difference between a real pornographic image and an artificially generated one using artificial intelligence!" %}</span>
        <br>
        <br>
        {% trans "Share your score:" %}
        <br>
        <a href="#" target="_blank" class="btn-social btn-twitter"><i class="bx bxl-twitter"></i></a>
        <a href="#" target="_blank" class="btn-social btn-facebook"><i class="bx bxl-facebook"></i></a>
        <a href="#" target="_blank" class="btn-social btn-reddit"><i class="bx bxl-reddit"></i></a>
        <br>
        <br>
        {% trans "Not satisfied with your score?" %} <a href="javascript:location.reload();">{% trans "Start over!" %}</a>
      </div>
    </div>
    <style>
    #intro {position: relative;display: inline-block;}
    .btnia {margin:10px; width: 100px;}
    #progress {margin-bottom: 20px;}
    #progressbar {width: 100%;height: 100%;}
    .frame {position: relative;width: 350px;height: 66vh;max-width: 100%;max-height: 400px;z-index: 1;margin: 0 auto;}
    .icons {margin-top: 3vh;user-select: none;position: relative;width: 350px;margin: 0 auto;text-align:center;z-index: 1;}
    .card {position: absolute;display: flex;align-items: flex-end;justify-content: center;width: 100%;height: 100%;color: #f1f1f1;border-radius: 10px;user-select: none;cursor: pointer;overflow: hidden;background-size: cover;background-repeat: no-repeat;background-position: center;touch-action: none;}
    .card .is-like {width: 100%;height: 100%;position: absolute;opacity: 0;}
    .card .is-like::after {position: absolute;left: 50%;bottom: 30%;transform: translateX(-50%) rotate(-10deg);width: 70%;height: 13%;font-size: 3em;letter-spacing: 0.2em;font-weight: 600;border-radius: 0.15em;display: flex;align-items: center;justify-content: center;}
    .card .like::after {content: "REAL";color: #4dca93;border: 0.1em solid #4dca93;}
    .card .nope::after {content: "FAKE";color: #fb4f68;border: 0.1em solid #fb4f68;}
    @media screen and (max-height: 540px) {
        .frame {width: 54vh;height: 81vh;font-size: 13px;}
    }
    @media screen and (max-height: 440px) {
        .frame {font-size: 8px;}
    }
    </style>
    <br>
  </div>
{% endblock content %}
{% block extra_script %}
  {{ pictures|json_script:"data-pictures" }}
{% endblock extra_script %}
